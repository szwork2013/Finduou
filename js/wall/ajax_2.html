<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>实例1 新闻列表</title>
<script>
//传输数据到后台；不同的提交方式 前台后台要一直 前台get后台也要get 前台post后台也要post；
window.onload = function()
{
	var oBtn = document.getElementById('btn1');
	oBtn.onclick = function()
	{
		if(window.XMLHttpRequest)
		{
			var oAjax = new XMLHttpRequest();
		}
		else
		{
			var oAjax = new ActiveXObject('Microsoft.XMLHTTP');
		}
		
		oAjax.open('GET','1.php?&'+new Date().getTime(),true)
		
		oAjax.send();
		//alert(JSON);
		oAjax.onreadystatechange = function()
		{
			if(oAjax.readyState==4)
			{
				if(oAjax.status==200)
				{
					//alert(oAjax.responseText);//返回内容会以字符串形式存入responseText这个属性；
					
					var oUl = document.getElementById('ul1');
					//var data = JSON.parse( oAjax.responseText );
					var data = eval(oAjax.responseText);//eval方法也可以得到转化后的数据；
					
					var str = '';
					for(var i=0;i<data.length;++i)
					{
						
						str+='<li><a href="#'+i+'">'+data[i].title+'</a><span>'+data[i].date+'</span></li>';
					}
					oUl.innerHTML = str;
				}
				else
				{
					alert(oAjax.status);
				}
			}
		}
	}
}
</script>
</head>

<body>
<input type="button" value="click"  id="btn1"/>
<ul id="ul1"></ul>
</body>
</html>
